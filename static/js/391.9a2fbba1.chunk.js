"use strict";(self.webpackChunkreact_first_project=self.webpackChunkreact_first_project||[]).push([[391],{7863:(s,t,e)=>{e.d(t,{H:()=>n});var a=e(1675),r=e(3003),o=e(579);const i=s=>({isAuth:s.auth.isAuth}),n=s=>(0,r.Ng)(i)((t=>t.isAuth?(0,o.jsx)(s,{...t}):(0,o.jsx)(a.C5,{to:"/login"})))},8391:(s,t,e)=>{e.r(t),e.d(t,{default:()=>U});var a=e(5043);const r={mainContent:"Profile_mainContent__VGjRo",mainWallpaper:"Profile_mainWallpaper__WJ4Y4",description:"Profile_description__rtTo5",userDescription:"Profile_userDescription__l7mdo",name:"Profile_name__lLfqC",ava:"Profile_ava__M5bEO",profileStatus:"Profile_profileStatus__qSDHJ"};var o=e(8316),i=e(9620),n=e(579);const l=s=>{const[t,e]=(0,a.useState)(!1),[o,i]=(0,a.useState)(s.status);(0,a.useEffect)((()=>{i(s.status)}),[s.status]);return(0,n.jsx)("div",{className:r.profileStatus,children:t?(0,n.jsx)("div",{children:(0,n.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),s.updateUserStatus(o,s.token)},value:o})}):(0,n.jsx)("div",{children:(0,n.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status})})})},u=s=>s.profile?(0,n.jsx)("div",{className:r.profileInfo,children:(0,n.jsxs)("div",{className:r.description,children:[(0,n.jsx)("div",{className:r.name,children:(0,n.jsx)("span",{children:s.profile.fullName})}),(0,n.jsx)("div",{className:r.avatar,children:s.profile.photos.large?(0,n.jsx)("img",{src:s.profile.photos.large,alt:""}):(0,n.jsx)("img",{src:i,alt:""})}),(0,n.jsx)("div",{className:r.userDescription,children:s.profile.aboutMe?(0,n.jsx)("span",{children:`About: ${s.profile.aboutMe}`}):(0,n.jsx)("span",{children:"Nothing about"})}),(0,n.jsx)(l,{status:s.status,updateUserStatus:s.updateUserStatus,token:s.token}),(0,n.jsx)("hr",{})]})}):(0,n.jsx)(o.A,{});var c=e(5963),d=e(3842);const p="MyPosts_posts__GSiZ2",h="MyPosts_textarea__TKsaX",f="MyPosts_button__TKXtI",x="Post_item__Yu4oG",j=s=>(0,n.jsxs)("div",{className:x,children:[(0,n.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSDl6bQlvEFpaiRXfXAYDF9wkS8MulY4IrqkA&s",alt:""}),(0,n.jsx)("span",{children:s.postText})]});var _=e(4111),m=e(2876);const v=(0,_.d)(15),P=(0,d.A)({form:"ProfileAddPost"})((s=>(0,n.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,n.jsx)("div",{children:(0,n.jsx)(c.A,{component:m.TM,name:"newPostText",className:h,placeholder:"Write your post here...",validate:[_.A,v]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{className:f,children:"Add post"}),";"]})]}))),g=s=>{const t=s.posts.map((s=>(0,n.jsx)(j,{postText:s.text})));return(0,n.jsxs)("div",{className:p,children:[(0,n.jsx)("h2",{children:"My posts"}),(0,n.jsx)(P,{onSubmit:t=>{s.addPost(t.newPostText)}}),t]})};var S=e(5977),N=e(3003);const b=(0,N.Ng)((s=>({posts:s.profilePage.posts})),(s=>({addPost:t=>{const e=(0,S.SD)(t);s(e)}})))(g),k=s=>(0,n.jsxs)("div",{className:r.mainContent,children:[(0,n.jsx)(u,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatusTC,token:s.token}),(0,n.jsx)(b,{})]});var A=e(1675),C=e(3923),T=e(7863);const U=(0,C.Zz)(T.H,(0,N.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status||"Status not specified",authorisedUserId:s.auth.userId,isAuth:s.auth.isAuth,token:s.auth.token})),{getUserProfileThunkCreator:S.PB,getUserStatusTC:S.lh,updateUserStatusTC:S.Yp}))((s=>{const{userId:t}=(0,A.g)();return(0,a.useEffect)((()=>{let e=t||s.authorisedUserId;s.getUserProfileThunkCreator(e),s.getUserStatusTC(e)}),[t,s.authorisedUserId]),(0,n.jsx)(k,{...s})}))}}]);
//# sourceMappingURL=391.9a2fbba1.chunk.js.map